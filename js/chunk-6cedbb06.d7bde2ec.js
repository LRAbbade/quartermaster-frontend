(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cedbb06"],{"0a49":function(t,n,e){var i=e("9b43"),r=e("626a"),o=e("4bf8"),a=e("9def"),s=e("cd1c");t.exports=function(t,n){var e=1==t,u=2==t,c=3==t,f=4==t,d=6==t,l=5==t||d,m=n||s;return function(n,s,p){for(var v,h,g=o(n),b=r(g),y=i(s,p,3),_=a(b.length),w=0,x=e?m(n,_):u?m(n,0):void 0;_>w;w++)if((l||w in b)&&(v=b[w],h=y(v,w,g),t))if(e)x[w]=h;else if(h)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:x.push(v)}else if(f)return!1;return d?-1:c||f?f:x}}},1169:function(t,n,e){var i=e("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"469f":function(t,n,e){e("6c1c"),e("1654"),t.exports=e("7d7b")},"4d5a":function(t,n,e){},"5d73":function(t,n,e){t.exports=e("469f")},7514:function(t,n,e){"use strict";var i=e("5ca1"),r=e("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),e("9c6c")(o)},"7d7b":function(t,n,e){var i=e("e4ae"),r=e("7cd6");t.exports=e("584a").getIterator=function(t){var n=r(t);if("function"!=typeof n)throw TypeError(t+" is not iterable!");return i(n.call(t))}},"7f7f":function(t,n,e){var i=e("86cc").f,r=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in r||e("9e1e")&&i(r,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},8315:function(t,n,e){"use strict";var i=e("4d5a"),r=e.n(i);r.a},baea:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"return"},[e("h1",[t._v("Devolver um item")]),e("p",[t._v("Selecione qual item está sendo devolvido.")]),e("custom-alert"),e("b-form",{on:{submit:function(n){return n.preventDefault(),t.handleSubmit(n)}}},[e("b-form-group",{attrs:{id:"itemInputGroup",label:"Item:","label-for":"itemInput"}},[e("b-form-select",{attrs:{id:"itemInput",options:t.options,required:""},model:{value:t.lending_id,callback:function(n){t.lending_id=n},expression:"lending_id"}})],1),e("b-button",{attrs:{type:"submit",variant:"success"}},[t._v("Confirmar")])],1)],1)},r=[],o=(e("7514"),e("7f7f"),e("5d73")),a=e.n(o),s=e("7c15"),u=e("c1df"),c=e.n(u),f={name:"Return",data:function(){return{api:new s["a"]("/lendings"),options:[],lendings:[],items:[],lending_id:null}},mounted:function(){this.getItems()},methods:{getItems:function(){var t=this,n=new s["a"]("/items");n.getAll().then(function(n){t.items=n.data,t.getLendings()})},getLendings:function(){var t=this;this.api.get().then(function(n){t.lendings=n.data,t.setOptions()})},setOptions:function(){var t=this,n=!0,e=!1,i=void 0;try{for(var r,o=function(){var n=r.value;t.options.push({value:n.id,text:"".concat(t.items.find(function(t){return t.id===n.item_id})["name"]," emprestado em ").concat(c()(n.date_start).locale("pt-BR").format("DD/MM/YY [às] HH:mm"))})},s=a()(this.lendings);!(n=(r=s.next()).done);n=!0)o()}catch(u){e=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(e)throw i}}},handleSubmit:function(){var t=this,n={},e=this.lendings.find(function(n){return n.id===t.lending_id});for(var i in e)e.hasOwnProperty(i)&&"id"!==i&&(n[i]=e[i]);n.date_return=c()().format("YYYY-MM-DDTHH:mm"),this.api.update(this.lending_id,n).catch(function(n){400===n.response.status&&t.$store.commit("setError",n.response.data.message)}).then(function(n){t.returnItem()})},returnItem:function(){var t=this,n=new s["a"]("/items"),e=this.lendings.find(function(n){return n.id===t.lending_id})["item_id"];n.getOne(e).then(function(i){var r=i.data;r.available=!0,delete r.id,n.update(e,r).then(function(n){t.$router.push({name:"home"})}).catch(function(n){400===n.response.status&&t.$store.commit("setError",n.response.data.message)})})}}},d=f,l=(e("8315"),e("2877")),m=Object(l["a"])(d,i,r,!1,null,null,null);n["default"]=m.exports},cd1c:function(t,n,e){var i=e("e853");t.exports=function(t,n){return new(i(t))(n)}},e853:function(t,n,e){var i=e("d3f4"),r=e("1169"),o=e("2b4c")("species");t.exports=function(t){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)||(n=void 0),i(n)&&(n=n[o],null===n&&(n=void 0))),void 0===n?Array:n}}}]);
//# sourceMappingURL=chunk-6cedbb06.d7bde2ec.js.map